---
import { getLangFromUrl, useTranslations } from '../i18n/utils';

interface Props {
  telegramUrl: string;
  label?: string;
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const { 
  telegramUrl, 
  label = t('socialButtons.telegramLabel'), 
  size = 'md',
  className = ''
} = Astro.props;

const sizeClasses = {
  sm: 'text-sm px-4 py-2',
  md: 'text-base px-6 py-2.5',
  lg: 'text-lg px-8 py-3'
};

const buttonClass = `inline-flex items-center gap-3 font-medium rounded-lg ${sizeClasses[size]} bg-[#0088cc] hover:bg-[#0079b3] text-white transition-all duration-300 ${className}`;
---

<a 
  href={telegramUrl}
  target="_blank"
  rel="noopener noreferrer"
  class={buttonClass}
>
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" class="telegram-icon">
    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.295-.6.295-.002 0-.003 0-.005 0l.213-3.054 5.56-5.022c.24-.213-.054-.334-.373-.121l-6.869 4.326-2.96-.924c-.64-.203-.658-.64.135-.954l11.566-4.458c.538-.196 1.006.128.832.941z"/>
  </svg>
  {label}
</a>
